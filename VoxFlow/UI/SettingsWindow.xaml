<Window x:Class="VoxFlow.UI.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Settings"
        Width="400"
        Height="600"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterOwner">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0" Text="Settings" FontSize="16" FontWeight="Bold" Margin="0,0,0,20"/>

        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel Orientation="Vertical">
                <TextBlock Text="Движок распознавания речи:" FontWeight="Bold" Margin="0,0,0,5"/>
                <ComboBox x:Name="SttEngineCombo" Margin="0,0,0,10" SelectionChanged="SttEngineCombo_SelectionChanged">
                    <ComboBoxItem Content="Whisper" Tag="Whisper"/>
                    <ComboBoxItem Content="Vosk" Tag="Vosk"/>
                </ComboBox>

                <StackPanel x:Name="VoskSettingsPanel">
                    <TextBlock Text="Базовый язык Vosk:" FontWeight="Bold" Margin="0,0,0,5"/>
                    <ComboBox x:Name="VoskBaseLanguageCombo" Margin="0,0,0,10" SelectionChanged="VoskBaseLanguageCombo_SelectionChanged">
                        <ComboBoxItem Content="Українська (UK)" Tag="Uk"/>
                        <ComboBoxItem Content="Русский (RU)" Tag="Ru"/>
                        <ComboBoxItem Content="English (EN)" Tag="En"/>
                    </ComboBox>

                    <CheckBox x:Name="VoskModelRuCheck" Content="Включить RU" Margin="0,0,0,5" Checked="VoskModelCheck_Changed" Unchecked="VoskModelCheck_Changed"/>
                    <TextBlock Text="Модель RU:" FontWeight="Bold" Margin="0,0,0,5"/>
                    <ComboBox x:Name="VoskModelRuCombo" Margin="0,0,0,10" SelectionChanged="VoskModelRuCombo_SelectionChanged">
                        <ComboBoxItem Content="Small (быстрая)" Tag="vosk-model-small-ru-0.22"/>
                        <ComboBoxItem Content="Large (точная)" Tag="vosk-model-ru-0.42"/>
                    </ComboBox>

                    <CheckBox x:Name="VoskModelEnCheck" Content="Включить EN" Margin="0,0,0,5" Checked="VoskModelCheck_Changed" Unchecked="VoskModelCheck_Changed"/>
                    <TextBlock Text="Модель EN:" FontWeight="Bold" Margin="0,0,0,5"/>
                    <ComboBox x:Name="VoskModelEnCombo" Margin="0,0,0,10" SelectionChanged="VoskModelEnCombo_SelectionChanged">
                        <ComboBoxItem Content="Small (быстрая)" Tag="vosk-model-small-en-us-0.15"/>
                        <ComboBoxItem Content="Large (точная)" Tag="vosk-model-en-us-0.22-lgraph"/>
                    </ComboBox>

                    <CheckBox x:Name="VoskModelUkCheck" Content="Включить UK" Margin="0,0,0,5" Checked="VoskModelCheck_Changed" Unchecked="VoskModelCheck_Changed"/>
                    <TextBlock Text="Модель UK:" FontWeight="Bold" Margin="0,0,0,5"/>
                    <ComboBox x:Name="VoskModelUkCombo" Margin="0,0,0,20" SelectionChanged="VoskModelUkCombo_SelectionChanged">
                        <ComboBoxItem Content="Nano" Tag="vosk-model-small-uk-v3-nano"/>
                        <ComboBoxItem Content="Small" Tag="vosk-model-small-uk-v3-small"/>
                        <ComboBoxItem Content="Large" Tag="vosk-model-uk-v3"/>
                    </ComboBox>

                    <TextBlock Text="Количество экземпляров Vosk:" FontWeight="Bold" Margin="0,0,0,5"/>
                    <ComboBox x:Name="VoskModelCountCombo" Margin="0,0,0,20" SelectionChanged="VoskModelCountCombo_SelectionChanged">
                        <ComboBoxItem Content="1" Tag="1"/>
                        <ComboBoxItem Content="2" Tag="2"/>
                        <ComboBoxItem Content="3" Tag="3"/>
                        <ComboBoxItem Content="4" Tag="4"/>
                    </ComboBox>
                </StackPanel>

                <StackPanel x:Name="WhisperSettingsPanel">
                    <TextBlock Text="Whisper Model:" FontWeight="Bold" Margin="0,0,0,5"/>
                    <ComboBox x:Name="WhisperModelCombo" Margin="0,0,0,20" SelectionChanged="WhisperModelCombo_SelectionChanged">
                        <ComboBoxItem Content="Base (быстрее)" Tag="base"/>
                        <ComboBoxItem Content="Small (точнее)" Tag="small"/>
                    </ComboBox>

                    <TextBlock Text="Language:" FontWeight="Bold" Margin="0,0,0,5"/>
                    <ComboBox x:Name="WhisperLanguageCombo" Margin="0,0,0,20" SelectionChanged="WhisperLanguageCombo_SelectionChanged">
                        <ComboBoxItem Content="Auto (автоопределение)" Tag=""/>
                        <ComboBoxItem Content="English (английский)" Tag="en"/>
                        <ComboBoxItem Content="Русский" Tag="ru"/>
                        <ComboBoxItem Content="Українська" Tag="uk"/>
                        <ComboBoxItem Content="Deutsch (немецкий)" Tag="de"/>
                        <ComboBoxItem Content="Français (французский)" Tag="fr"/>
                        <ComboBoxItem Content="Español (испанский)" Tag="es"/>
                        <ComboBoxItem Content="Italiano (итальянский)" Tag="it"/>
                        <ComboBoxItem Content="日本語 (японский)" Tag="ja"/>
                        <ComboBoxItem Content="中文 (китайский)" Tag="zh"/>
                        <ComboBoxItem Content="한국어 (корейский)" Tag="ko"/>
                        <ComboBoxItem Content="Polski (польский)" Tag="pl"/>
                        <ComboBoxItem Content="Türkçe (турецкий)" Tag="tr"/>
                    </ComboBox>

                    <TextBlock Text="Model Count:" FontWeight="Bold" Margin="0,0,0,5"/>
                    <ComboBox x:Name="WhisperModelCountCombo" Margin="0,0,0,20" SelectionChanged="WhisperModelCountCombo_SelectionChanged">
                        <ComboBoxItem Content="1" Tag="1"/>
                        <ComboBoxItem Content="2" Tag="2"/>
                        <ComboBoxItem Content="3" Tag="3"/>
                        <ComboBoxItem Content="4" Tag="4"/>
                    </ComboBox>
                </StackPanel>

                <CheckBox x:Name="InputInMillisecondsCheck" Content="Ввод в миллисекундах" Margin="0,0,0,10" Checked="InputModeCheck_Changed" Unchecked="InputModeCheck_Changed"/>
                
                <TextBlock x:Name="WindowSizeLabel" Text="Длительность аудио (секунды, например 0.3):" FontWeight="Bold" Margin="0,0,0,5"/>
                <TextBox x:Name="WindowSizeSecTextBox" Margin="0,0,0,20" TextChanged="WindowSizeSecTextBox_TextChanged" ToolTip="Введите длительность аудио окна в секундах (например: 0.3) или миллисекундах (например: 300)"/>

                <TextBlock x:Name="StepLabel" Text="Интервал между аудио (секунды, например 0.1):" FontWeight="Bold" Margin="0,0,0,5"/>
                <TextBox x:Name="StepSecTextBox" Margin="0,0,0,20" TextChanged="StepSecTextBox_TextChanged" ToolTip="Введите интервал между окнами в секундах (например: 0.1) или миллисекундах (например: 100)"/>

                <TextBlock Text="Папка для сохранения окон STT (прослушивание):" FontWeight="Bold" Margin="0,0,0,5"/>
                <TextBlock Text="Если указана, каждый фрагмент, отправляемый в STT, копируется сюда (имена: window_0001_0.00s.wav и т.д.)" TextWrapping="Wrap" Foreground="Gray" Margin="0,0,0,5" FontSize="11"/>
                <TextBox x:Name="SttInputDebugFolderTextBox" Margin="0,0,0,10" ToolTip="Путь к папке (пусто = не копировать). Можно вставить путь и нажать «Открыть папку с окнами» в главном окне."/>

                <Separator Margin="0,0,0,20"/>

                <TextBlock Text="Hotkey Settings" FontWeight="Bold" Margin="0,0,0,10"/>
                
                <!-- F3: Toggle LiveDisabled -->
                <TextBlock Text="Toggle LiveDisabled (F3):" Margin="0,0,0,5"/>
                <ComboBox x:Name="ToggleLiveDisabledCombo" Margin="0,0,0,15" SelectionChanged="HotkeyCombo_SelectionChanged"/>

                <!-- F4: Clear Draft -->
                <TextBlock Text="Clear Draft (F4):" Margin="0,0,0,5"/>
                <ComboBox x:Name="ClearDraftCombo" Margin="0,0,0,15" SelectionChanged="HotkeyCombo_SelectionChanged"/>

                <!-- F7: Toggle Pause -->
                <TextBlock Text="Toggle Pause (F7):" Margin="0,0,0,5"/>
                <ComboBox x:Name="TogglePauseCombo" Margin="0,0,0,15" SelectionChanged="HotkeyCombo_SelectionChanged"/>

                <!-- F8: Paste and Resume -->
                <TextBlock Text="Paste and Resume (F8):" Margin="0,0,0,5"/>
                <ComboBox x:Name="PasteAndResumeCombo" Margin="0,0,0,15" SelectionChanged="HotkeyCombo_SelectionChanged"/>
            </StackPanel>
        </ScrollViewer>

        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Content="Reset to Defaults" Width="120" Height="30" Margin="0,0,10,0" Click="ResetButton_Click"/>
            <Button x:Name="OkButton" Content="OK" Width="80" Height="30" Margin="0,0,10,0" Click="OkButton_Click" Visibility="Collapsed"/>
            <Button x:Name="StartButton" Content="Запустить" Width="100" Height="35" FontWeight="Bold" Click="StartButton_Click" IsDefault="True"/>
        </StackPanel>
    </Grid>
</Window>